function GameRender(a){"strict mode";self=this,self.game=a,self.timer=null,self.interval=new ko.observable(500),self.helpVisible=new ko.observable(!1),self.boardSize=new ko.observable("12 x 12"),self.init=function(){var a=parseInt(self.boardSize().substring(0,2),10);self.game.createBoard(a,a),ko.applyBindings(self)},self.toggleCellStatus=function(a){a.active(!a.active())},self.toogleHelp=function(){self.helpVisible(!self.helpVisible())},self.start=function(){self.timer||(self.timer=setInterval(self.step,parseInt(self.interval())))},self.step=function(){self.game.next()},self.stop=function(){self.timer=clearInterval(self.timer)},self.clear=function(){self.game.clearBoard(),self.timer=clearInterval(self.timer)},self.onChangePattern=function(a,b){var c=b.currentTarget.value;self.setPattern(c)},self.onChangeBoardSize=function(a,b){self.clear();var c=parseInt(self.boardSize().substring(0,2),10);self.game.createBoard(c,c)},self.setPattern=function(b){self.clear(),"blinker"===b?(a.board.lines()[5].cells[4].active(!0),a.board.lines()[5].cells[5].active(!0),a.board.lines()[5].cells[6].active(!0)):"toad"===b?(a.board.lines()[4].cells[5].active(!0),a.board.lines()[4].cells[6].active(!0),a.board.lines()[4].cells[7].active(!0),a.board.lines()[5].cells[4].active(!0),a.board.lines()[5].cells[5].active(!0),a.board.lines()[5].cells[6].active(!0)):"beacon"===b?(a.board.lines()[3].cells[4].active(!0),a.board.lines()[3].cells[5].active(!0),a.board.lines()[4].cells[4].active(!0),a.board.lines()[4].cells[5].active(!0),a.board.lines()[5].cells[6].active(!0),a.board.lines()[5].cells[7].active(!0),a.board.lines()[6].cells[6].active(!0),a.board.lines()[6].cells[7].active(!0)):"pulsar"===b?(a.board.lines()[4].cells[5].active(!0),a.board.lines()[4].cells[6].active(!0),a.board.lines()[5].cells[4].active(!0),a.board.lines()[5].cells[5].active(!0),a.board.lines()[6].cells[5].active(!0)):"square"===b&&(a.board.lines()[4].cells[4].active(!0),a.board.lines()[4].cells[5].active(!0),a.board.lines()[4].cells[6].active(!0),a.board.lines()[5].cells[4].active(!0),a.board.lines()[5].cells[6].active(!0),a.board.lines()[6].cells[4].active(!0),a.board.lines()[6].cells[5].active(!0),a.board.lines()[6].cells[6].active(!0))}}var GameOfLife={};GameOfLife.Cell=function(a,b){this.active=new ko.observable(!1),this.nextActive=!1,this.x=a,this.y=b,this.liveNeighbours=0},GameOfLife.Line=function(a,b,c){if("function"!=typeof a)return null;this.Cell=a;var d=0,e={cells:[]};for(d;c>d;d++){var f=new this.Cell(b,d);e.cells.push(f)}return e},GameOfLife.Game=function(a,b){if("function"!=typeof a)return null;if("function"!=typeof b)return null;var c=this;c.Line=a,c.Cell=b,c.board={lines:new ko.observableArray([])},c.createBoard=function(a,b){var d=0;c.board.lines([]);var e=[];for(d;a>d;d++)e.push(new c.Line(c.Cell,d,b));c.board.lines(e)},c.clearBoard=function(){var a,b=0;for(b;b<c.board.lines().length;b++)for(a=0;a<c.board.lines()[b].cells.length;a++)c.board.lines()[b].cells[a].active(!1)},c.next=function(){var a,b,d=0;for(c.syncNextActives(),d;d<c.board.lines().length;d++)for(a=0;a<c.board.lines()[d].cells.length;a++){var e=c.board.lines()[d].cells[a];b=c.getLiveNeighbours(e.x,e.y),2>b&&(e.nextActive=!1),b>3&&(e.nextActive=!1),3===b&&(e.nextActive=!0)}c.syncActives()},c.syncNextActives=function(){var a,b=0;for(b;b<c.board.lines().length;b++)for(a=0;a<c.board.lines()[b].cells.length;a++){var d=c.board.lines()[b].cells[a];d.nextActive=d.active()}},c.syncActives=function(){var a,b=0;for(b;b<c.board.lines().length;b++)for(a=0;a<c.board.lines()[b].cells.length;a++){var d=c.board.lines()[b].cells[a];d.active(d.nextActive)}},c.getLiveNeighbours=function(a,b){var d=c.board.lines()[a-1],e=c.board.lines()[a],f=c.board.lines()[a+1];return c.getLiveNeighboursFromLine(d,b)+c.getLiveNeighboursFromLine(e,b,!0)+c.getLiveNeighboursFromLine(f,b)},c.getLiveNeighboursFromLine=function(a,b,c){var d=0;return d+=a&&a.cells[b-1]?+!!a.cells[b-1].active():0,d+=a&&!c?+!!a.cells[b].active():0,d+=a&&a.cells[b+1]?+!!a.cells[b+1].active():0}};